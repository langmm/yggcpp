--- gcc-5.3.0/libstdc++-v3/include/std/thread.orig	2016-12-11 15:51:54
+++ gcc-5.3.0/libstdc++-v3/include/std/thread.new	2023-12-05 15:47:20
@@ -1,3 +1,4 @@
+// mingw-c++-5-3-thread.patch applied
 // <thread> -*- C++ -*-
 
 // Copyright (C) 2008-2015 Free Software Foundation, Inc.
@@ -41,6 +42,7 @@
 #include <bits/functexcept.h>
 #include <bits/functional_hash.h>
 #include <bits/gthr.h>
+#include <iostream>
 
 #if defined(_GLIBCXX_HAS_GTHREADS) && defined(_GLIBCXX_USE_C99_STDINT_TR1)
 
@@ -81,11 +83,13 @@
 
       friend bool
       operator==(thread::id __x, thread::id __y) noexcept
-      { return __gthread_equal(__x._M_thread, __y._M_thread); }
+      { return ((__x._M_thread.p == __y._M_thread.p) &&
+		(__x._M_thread.x == __y._M_thread.x)); }
+      // { return __gthread_equal(__x._M_thread, __y._M_thread); }
 
-      friend bool
-      operator<(thread::id __x, thread::id __y) noexcept
-      { return __x._M_thread < __y._M_thread; }
+      // friend bool
+      // operator<(thread::id __x, thread::id __y) noexcept
+      // { return __x._M_thread < __y._M_thread; }
 
       template<class _CharT, class _Traits>
 	friend basic_ostream<_CharT, _Traits>&
@@ -215,18 +219,18 @@
   operator!=(thread::id __x, thread::id __y) noexcept
   { return !(__x == __y); }
 
-  inline bool
-  operator<=(thread::id __x, thread::id __y) noexcept
-  { return !(__y < __x); }
-
-  inline bool
-  operator>(thread::id __x, thread::id __y) noexcept
-  { return __y < __x; }
+  // inline bool
+  // operator<=(thread::id __x, thread::id __y) noexcept
+  // { return !(__y < __x); }
 
-  inline bool
-  operator>=(thread::id __x, thread::id __y) noexcept
-  { return !(__x < __y); }
+  // inline bool
+  // operator>(thread::id __x, thread::id __y) noexcept
+  // { return __y < __x; }
 
+  // inline bool
+  // operator>=(thread::id __x, thread::id __y) noexcept
+  // { return !(__x < __y); }
+
   // DR 889.
   /// std::hash specialization for thread::id.
   template<>
@@ -245,7 +249,10 @@
       if (__id == thread::id())
 	return __out << "thread::id of a non-executing thread";
       else
-	return __out << __id._M_thread;
+	// return __out << pthread_getunique_np(__id._M_thread);
+	// return __out << __id._M_thread.p;
+	// return __out << std::_Hash_impl::hash(__id._M_thread);
+	return __out << __id._M_thread.p << "-" << __id._M_thread.x;
     }
 
 _GLIBCXX_END_NAMESPACE_VERSION
