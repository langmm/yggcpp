cmake_minimum_required(VERSION @CMAKE_MINIMUM_REQUIRED_VERSION@)
message(DEBUG "Checking for external language: @language@ (CMAKE_GENERATOR = ${CMAKE_GENERATOR}, LINKER_LANGUAGE = @ARGS_LINKER_LANGUAGE@)")
list(APPEND CMAKE_MODULE_PATH "@CMAKE_CURRENT_FUNCTION_LIST_DIR@")
include(GeneralTools)
show_build_info(PREFIX "CHECK EXTERNAL @target@: ")
project(check_language_@language@ LANGUAGES @language@ @ARGS_LINKER_LANGUAGE@)
show_build_info(PREFIX "CHECK EXTERNAL @target@: ")
set(LANGUAGE @language@)
set(LINKER_LANGUAGE @ARGS_LINKER_LANGUAGE@)
set(COMPILER_FILE "@fcompiler@")
set(COMPILER_VAR "CMAKE_${LANGUAGE}_COMPILER")
set(LINKER_FILE "@flinker@")
set(LINKER_VAR "CMAKE_${LINKER_LANGUAGE}_LINKER")
if(${COMPILER_VAR})
  message(STATUS "Located external compiler for ${LANGUAGE}")
  message(STATUS "${COMPILER_VAR} = ${${COMPILER_VAR}}")
  message(STATUS "CMAKE_GENERATOR = ${CMAKE_GENERATOR})")
  if(COMPILER_FILE)
    file(WRITE ${COMPILER_FILE} ${${COMPILER_VAR}})
  endif()
endif()
if(${LINKER_VAR})
  message(STATUS "Located external linker for ${LINKER_LANGUAGE}")
  message(STATUS "${LINKER_VAR} = ${${LINKER_VAR}}")
  message(STATUS "CMAKE_GENERATOR = ${CMAKE_GENERATOR})")
  if(LINKER_FILE)
    file(WRITE ${LINKER_FILE} ${${LINKER_VAR}})
  endif()
endif()
